!function(a){function g(a){b=a.api_key,d=a.request_url}function h(){e&&!e.closed&&e.close()}function i(a){var c,b={};if(!a)return!1;for(var d=a.slice(1).split("&"),e=0;e<d.length;e++)c=d[e].split("="),b[c[0]]=c[1];return b}function j(a,b){var c={success:!1,message:a||"Some Error Occurred"};"function"==typeof b&&b(c)}function k(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4!=this.readyState);else{if(0===this.status)return a("Internet Disconnected/Connection Timeout");try{var b=JSON.parse(this.response);a(null,b)}catch(b){a(b.message)}}},b.open("GET",d,!0),b.send()}function l(a){if(!e)return a("Popup Not initialized");e.location.href=f+c;var b=function(){setTimeout(function(){return e.closed?a(null,i(e.location.search)):b()},25)};b()}function m(b){return d?(e=a.open(null,"_blank","height=400,width=800,left=250,top=100,resizable=yes",!0),void k(function(a,d){return a?(h(),j(a,b)):d.success?(c=d.oauth_token,void l(function(a,d){return a?(h(),j(a,b)):d&&d.oauth_token?d.oauth_token!==c?j("Invalid OAuth Token received from Twitter.",b):void b({success:!0,oauth_token:d.oauth_token,oauth_verifier:d.oauth_verifier}):(h(),j("OAuth Token not Found",b))})):(h(),j(d.message,b))})):j("Request URL not provided",b)}var b,c,d,e,f="https://api.twitter.com/oauth/authenticate?oauth_token=";a.onload=function(){"function"==typeof a.twitterInit&&a.twitterInit()},a.twttr={init:g,connect:m}}(window);